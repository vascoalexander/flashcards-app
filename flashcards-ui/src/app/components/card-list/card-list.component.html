<!-- @let cards = flashcards(); -->
 @let cards = filteredFlashcards();

<div class="card-list-container">






  @defer (when !loading() && !loadingError())
  {
    <div class="card-list-title-addBtn">
      <h1>Alle Flashcards ({{ cards.length }})</h1>
      <button mat-mini-fab (click)="clickAddCard()">
        <mat-icon>add</mat-icon>
      </button>
    </div>


     <!-- //NOTE : Filter -->
    <div class="filter-search-results-container">
      <section>
        <form class="filter-search-container" (submit)="filterResults (filter.value); $event.preventDefault()">
          <input class="filter-search-input" type="text" placeholder="Nach der Frage filtern..." #filter>
          <button class="filter-search-Btn" type="submit" mat-mini-fab aria-label="Filtert nach Fragen der Karten.">
              <mat-icon>search</mat-icon>
          </button>
        </form>
      </section>
    </div>



      <table mat-table [dataSource]="cards">

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>Nr:</th>
          <td mat-cell *matCellDef="let card"><p>{{ card.id }}</p></td>
        </ng-container>

        <ng-container matColumnDef="question">
          <th mat-header-cell *matHeaderCellDef>Frage:</th>
          <td mat-cell *matCellDef="let card">{{ card.question }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnNames"></tr>
        <tr mat-row *matRowDef="let row; columns: columnNames;" (click)="clickCardDetail(row.id)"  class="clickable-row"></tr>

      </table>

  }
  <!-- zum testen: "@placeholder(minimum 3s)" -->
  @placeholder ()
  {
    <div class="cardlist-placeholder-container">
      <mat-progress-spinner mode="indeterminate" [diameter]="40"></mat-progress-spinner>
      <p>Flashcards werden geladen...</p>
    </div>
  }
  @error
  {
    <div class="cardlist-error-container">
      <p>Hoppla! Etwas ist schiefgelaufen!</p>
      <p>Flashcards konnten nicht geladen werden.</p>
    </div>
  }

</div>

